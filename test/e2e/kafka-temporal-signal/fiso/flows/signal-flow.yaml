name: kafka-temporal-signal-flow
source:
  type: kafka
  config:
    brokers:
      - kafka:9092
    topic: order-signal-events
    consumerGroup: fiso-temporal-signal-e2e
    startOffset: earliest
transform:
  mapping:
    order_id: "$.order_id"
    status: "$.status"
    updated_by: "$.updated_by"
cloudevents:
  type: order.updated
  source: fiso-signal-e2e
sink:
  type: temporal
  config:
    hostPort: temporal:7233
    namespace: default
    taskQueue: signal-processing
    workflowType: WaitForSignal
    mode: signal
    signalName: order-update
    workflowIdExpr: "order-signal-e2e"
errorHandling:
  deadLetterTopic: fiso-dlq-signal-e2e
  maxRetries: 3
